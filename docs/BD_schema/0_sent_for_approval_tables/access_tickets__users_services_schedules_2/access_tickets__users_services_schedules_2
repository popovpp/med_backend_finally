services {
	id integer pk increments
	client_service_id integer null
	service_type_id integer >* services_types.id
	name varchar(100)
	comment varchar(500) null
	description text null
	applied_method varchar(500) null
	preparation_rules text null
	is_active bool null
}

Таблица "Номерки"

access_tickets {
	id integer pk increments
	client_access_ticket_id integer null - идентификатор номерка в системе клиента
	ticket_time date null - дата и время номерка
	ticket_duration integer def(15) - продолжительность номерка в минутах
	doctor_id integer null *> doctors.id - идентификатор доктора
	ticket_was_used bool - флаг использован/ не использован
	description text null - описание
	is_active bool - флаг активен / не активен
}

doctors {
	id integer pk increments
	client_doctor_id integer null unique
	medical_center_id integer *> medical_centers.id
	fio varchar(300)
	description text null
	photo varchar(100) null
	is_active bool
	phone_number varchar(25) null
	mobile_number varchar(25) null
	email varchar(100) null
}

Таблица "Услуги пользователей - расписания"
Если пользователь выбирает услугу из каталога, то устанавливается поле price_id.
Если пользователь выбирает услугу из абонемента, то устанавливается поле user_subscription_item_id

users_services_schedules {
	id integer pk increments
	access_ticket_id integer null >* access_tickets.id - идентификатор номерка
	user_id integer >* users.id - идентификатор пользователя
	price_id integer null >* prices.id - идентификатор конкретной услуги
	user_subscription_item_id integer null >* users_subscribtions_items.id - идентификатор конкретной услуги в составе абонемента пользователя
	user_payment_id integer null >* users_payments.id - идентификатор платежя пользователя, относящегося или к выбранной price_id или к user_subscription_item_id
	is_active bool def(true) - флаг активен / не активен
}

prices {
	id integer pk increments
	client_price_id integer null
	service_id integer *> services.id
	price_period_id integer *> prices_periods.id
	medical_center_id integer >* medical_centers.id
	service_place_type_id integer >* sevices_places_types.id
	price_type_id integer >* prices_types.id - идентификатор типа цены: 1 - цена для частных клиентов, 2 - цена для страховых клиентов ...
	price float4
}

Таблица "Абонементы пользователей"

users_subscriptions {
	id integer pk increments
	client_usubscription_id integer - идентификатор абонемента в системе клиента
	user_id integer >* users.id - идентификатор пользователя
	description text null - описание
	is_paid boolean def(false) - флаг оплачен / не оплачен
	price float def(0) - цена абонемента
	common_discount integer null - предоставленная общая скидка
	amount float - итоговая стоимость абонемента
	paid_amount float def(0) - оплаченная сумма
	current_amount float def(0) - текущяа не оплаченная сумма
	is_active boolean def(false) - флаг активен / не активен
}

Таблица "Услуги в абонементах пользователей"

users_subscribtions_items {
	id integer pk increments
	user_subscription_id integer >* users_subscriptions.id - идентификатор абонемента
	price_id integer > prices.id - идентификатор конкретной услуги
	discount integer - предоставленняа скидка
	amount float - итоговая стоимость услуги
	is_paid boolean null def(false) - флаг оплачена / не оплачена
	is_got boolean null def(false) - флаг получена / не получена
	is_active boolean def(false)
}

Таблица "Типы цены"

prices_types {
	id integer pk increments
	client_price_type_id integer null - идентификатор типа цены в системе клиента
	name varchar(100) unique - наименование типа цены
	description varchar(500) null - описание типа цены
	is_active bool - флаг активен / не активен
}

Таблица "Платежи пользователя"

users_payments {
	id integer pk increments
	client_user_payment_id integer null - идентификатор платеда в системе клиента
	payment_system_id integer > payment_system.id - идентификатор платежной системы
	payment_date time - дата платежа
	user_id integer >* users.id - идентификатор пользователя
	amount_to_pay float4 - сумма к оплате
	paid_amount float4 def(0) - оплаченная сумма
	payment_status integer - статус платежа: 1 - в обработке, 2 - выполнен успешно, 3 - не выполнен из-за ошибки
	payment_transaction_id integer - идентификатор транзакции в платежной системе
}


