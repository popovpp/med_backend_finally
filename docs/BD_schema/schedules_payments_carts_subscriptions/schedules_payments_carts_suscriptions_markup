doctors {
	id integer pk increments
	client_doctor_id integer null unique
	medical_center_id integer *> medical_center.id
	medical_department_id integer *> medical_departments.id
	doctor_mspeciality_id integer >* medical_specialities.id
	fio varchar(300)
	description text null
	photo varchar(100) null
	is_active boolean
}

medical_center {
	id integer pk increments
	client_mcenter_id integer null
	city_id integer >* cities.id
	name varchar(200)
	address text(200)
	longitude float8 null
	latitude float8 null
	description text null
	inn varchar(20)
	bank_bic varchar(20)
	settlement_account varchar(40)
	correspondent_account varchar(40)
	kpp varchar(40)
	is_active boolean
}

cities {
	id integer pk increments
	client_city_id integer null unique
	name varchar(20)
	is_active boolean
}

doctors_schedules {
	id integer pk increments
	doctor_id integer >* doctors.id
	plan_visit_datetime time
	plan_visit_duration integer
	description text
	is_available boolean
}

user_schedules {
	id integer pk increments
	client_rnumb_id integer null
	plan_visit_time time
	paln_visit_duration integer
	user_id integer >* users.id
	service_id integer *> services.id
	doctor_id integer *> doctors.id
	payment_id integer null > .
	subscription_id integer null
	user_comments text null
	visit_was_done boolean def(false)
	is_active integer def(true)
}

services {
	id integer pk increments
	client_service_id integer null
	service_direction_id integer >* services_directions.id
	service_type_id integer >* sevices_types.id
	name varchar(100)
	description text
	is_active boolean
}

users_carts {
	id integer pk increments
	user_id integer >* users.id
	service_id integer *> services.id
	doctor_id integer null *> doctors.id
	price float
	discount float null
	amount_to_pay float
	needed_datetime time null
}

users {
	id integer pk increments
	client_user_id integer null unique def(null)
	client_card_id integer null unique def(null)
	client_personal_area_id integer null unique def(null)
	first_name varchar(100)
	last_name varchar(100)
	patronymic varchar(100) null def(null)
	birth_date date
	gender varchar(1) null def(null)
	email varchar(100) unique
	phone_number varchar(20) unique
	additional_phone_number varchar(20) null def(null)
	password varchar(50) null def(null)
	is_active bool def(true)
	is_verified bool def(false)
	created date
	last_login date null
	last_visit date null
}

users_payments {
	id integer pk increments
	payment_date time
	user_id integer >* users.id
	service_id integer *>* services.id
	doctor_id integer *>* doctors.id
	price float
	discount integer
	amount_to_pay float
	payment_amount float
	payment_status integer
	payment_transaction_id integer
}

users_subscribtions_items {
	id integer pk increments
	user_subscription_id integer >* users_subscriptions.id
	service_id integer *> services.id
	price float
	discount integer
	amount float
	is_paid boolean null def(false)
	is_got boolean null def(false)
	is_active boolean def(false)
}

users_subscriptions {
	id integer pk increments
	client_usubscription_id integer
	user_id integer >* users.id
	description text null
	is_paid boolean def(false)
	price float def(0)
	common_discount integer null
	amount float
	paid_amount float def(0)
	current_amount float def(0)
	is_active boolean def(false)
}

